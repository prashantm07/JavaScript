<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Chat Example</title>
  <style>
    /* Style for the main box */
    .main-box {
      width: 300px;
      border: 2px solid #121111;
      padding: 20px;
      margin: 20px;
     
    }

    /* Style for the chat message container */
    .chat-message {
      background-color: #f0f0f0;
      border: 2px solid #121111;
      padding: 10px;
      margin-bottom: 10px;
    }

    /* Style for the name, message, and time */
    .name {
      font-weight: bold;
    }

    .time {
      color: #666;
      font-size: 0.8em;
    }
    body{
        display: flex;
        text-align: center;
        justify-content: center;
        margin-top: 100px;
    }
    
   
  </style>
  <script>

  </script>
</head>
<body>
  <div class="sort-options">
    <label>Sort by:</label>
    <select id="sortOption" onchange="sortUserCards()">
      <option value="name">Name</option>
      <option value="age">Age</option>
      <option value="city">City</option>
    </select>
  </div>

  <div id="userCardContainer"></div>

  <script>
function sortUserCards() {
        // get seleted sorting option 
      const sortOption = document.getElementById('sortOption').value;
    //   container holds the users
      const userCardContainer = document.getElementById('userCardContainer');

    //   convert collection user to array for sorting
      const userCards = Array.from(userCardContainer.children);

      userCards.sort((a, b) => {
        const aValue = a.getAttribute(`${sortOption}`); // seleted option in drop down 
        const bValue = b.getAttribute(`${sortOption}`); // seleted option in drop down 

        if (sortOption === 'name' || sortOption === 'city' || sortOption === 'id') {

          return aValue.localeCompare(bValue);
        } 
        else {
          return aValue - bValue;
        }
      });

      userCardContainer.innerHTML = '';
      userCards.forEach(card => userCardContainer.appendChild(card));
    }

    // Fetch user data from the JSON file
    fetch('data.json')
      .then(response => response.json())
      .then(users => {
        // Create user cards dynamically based on the JSON data
        const userCardContainer = document.getElementById('userCardContainer');

        users.forEach(user => {
          const userCard = document.createElement('div');
          userCard.className = 'user-card';
          userCard.setAttribute('name', user.name);
          userCard.setAttribute('id',user.id);
          userCard.setAttribute('age', user.age);
          userCard.setAttribute('city', user.city);

          const userCardContent = `
            <div class="user-card-content">
              <p>Name :${user.name}</p>
              <p>Id : ${user.id}</p>
              <p>IsActive:${user.isActive}</p>
              <p>Age: ${user.age}</p>
              <p>City: ${user.city}</p>
            </div>
          `;

          userCard.innerHTML = userCardContent;
          userCardContainer.appendChild(userCard);
        });

        // Initial sorting by name
        sortUserCards();
      })
      .catch(error => console.error('Error fetching user data:', error));
  </script>
  
  <!-- <div class="main-box">
    <h2>template</h2>

    <div class="chat-message">
      <div class="name">User 1</div>
      <div class="message">Hello there!</div>
      <div class="time">12:30 PM</div>
    </div>

    <div class="chat-message">
      <div class="name">User 2</div>
      <div class="message">Hi! How are you?</div>
      <div class="time">12:35 PM</div>
    </div>

    <div class="chat-message">
      <div class="name">User 3</div>
      <div class="message">I'm doing well, thanks!</div>
      <div class="time">12:40 PM</div>
    </div>
  </div> -->
</body>
</html>
